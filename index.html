<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <title>–£—á–µ—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header id="appHeader" class="app__header app__header--split">
        <div>
          <p class="app__eyebrow">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</p>
          <h1>–í–∞—à–∏ —Ñ–∏–Ω–∞–Ω—Å—ã</h1>
        </div>
        <div class="header-actions">
          <button class="icon-button" type="button" aria-label="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 3a6 6 0 0 0-6 6v2.6l-1.4 2.8c-.5 1 0 2.2 1.2 2.2h13.4c1.1 0 1.7-1.2 1.2-2.2L18 11.6V9a6 6 0 0 0-6-6z"
                stroke="currentColor"
                stroke-width="1.5"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M9 19a3 3 0 0 0 6 0"
                stroke="currentColor"
                stroke-width="1.5"
                fill="none"
                stroke-linecap="round"
              />
            </svg>
          </button>
          <button class="icon-button" type="button" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 8.2a3.8 3.8 0 1 0 0 7.6 3.8 3.8 0 0 0 0-7.6z"
                stroke="currentColor"
                stroke-width="1.5"
                fill="none"
              />
              <path
                d="M19.5 12a7.5 7.5 0 0 0-.1-1l2-1.5-2-3.5-2.3.8a7.6 7.6 0 0 0-1.7-1l-.3-2.5h-4l-.3 2.5a7.6 7.6 0 0 0-1.7 1l-2.3-.8-2 3.5 2 1.5a7.5 7.5 0 0 0 0 2l-2 1.5 2 3.5 2.3-.8a7.6 7.6 0 0 0 1.7 1l.3 2.5h4l.3-2.5a7.6 7.6 0 0 0 1.7-1l2.3.8 2-3.5-2-1.5c.1-.3.1-.7.1-1z"
                stroke="currentColor"
                stroke-width="1.5"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
          </button>
          <button id="profileButton" class="profile-pill__avatar" type="button" aria-label="–ü—Ä–æ—Ñ–∏–ª—å">
            <img id="profileAvatar" alt="–ê–≤–∞—Ç–∞—Ä –ø—Ä–æ—Ñ–∏–ª—è" />
          </button>
        </div>
      </header>

      <section id="summaryCards" class="balance-card">
        <div class="balance-card__top">
          <div>
            <p class="balance-card__label">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</p>
            <h2 id="balanceAmount" class="balance-card__value">0 ‚ÇΩ</h2>
          </div>
          <button class="icon-button" type="button" aria-label="–°–∫—Ä—ã—Ç—å –±–∞–ª–∞–Ω—Å">
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M2 12s4-6 10-6 10 6 10 6-4 6-10 6-10-6-10-6z"
                stroke="currentColor"
                stroke-width="1.5"
                fill="none"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.5" fill="none" />
            </svg>
          </button>
        </div>
        <div class="balance-card__mini">
          <div class="mini-card mini-card--income">
            <div class="mini-card__icon">‚¨ÜÔ∏è</div>
            <div>
              <span>–î–æ—Ö–æ–¥—ã</span>
              <strong id="incomeTotal">0 ‚ÇΩ</strong>
            </div>
          </div>
          <div class="mini-card mini-card--expense">
            <div class="mini-card__icon">‚¨áÔ∏è</div>
            <div>
              <span>–†–∞—Å—Ö–æ–¥—ã</span>
              <strong id="expenseTotal">0 ‚ÇΩ</strong>
            </div>
          </div>
          <div class="mini-card mini-card--plan">
            <div class="mini-card__icon">üéØ</div>
            <div>
              <span>–ü–ª–∞–Ω</span>
              <strong id="planTotal">0 ‚ÇΩ</strong>
            </div>
          </div>
        </div>
        <div class="balance-card__footer">
          <span>–ë–∞–ª–∞–Ω—Å</span>
          <strong id="totalAmount">0 ‚ÇΩ</strong>
        </div>
      </section>

      <section class="action-grid">
        <button class="action-button" type="button" data-action-type="income">
          <span class="action-icon action-icon--income">‚¨ÜÔ∏è</span>
          –î–æ—Ö–æ–¥
        </button>
        <button class="action-button" type="button" data-action-type="expense">
          <span class="action-icon action-icon--expense">‚¨áÔ∏è</span>
          –†–∞—Å—Ö–æ–¥
        </button>
        <button class="action-button" type="button" data-action-type="plan">
          <span class="action-icon action-icon--plan">üéØ</span>
          –ü–ª–∞–Ω
        </button>
        <button class="action-button" type="button" data-action-open="profile">
          <span class="action-icon action-icon--neutral">‚öôÔ∏è</span>
          –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
        </button>
      </section>

      <section id="authSection" class="card auth">
        <div>
          <h2 id="authTitle">–í—Ö–æ–¥</h2>
          <p class="hint">–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Ñ–∏–ª—å, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–∞—Å—Ö–æ–¥—ã –≤ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.</p>
        </div>
        <div class="auth__forms">
          <form id="loginForm" class="form auth__panel" data-auth-view="login">
            <label>
              Email
              <input type="email" name="email" placeholder="you@example.com" required />
            </label>
            <label>
              –ü–∞—Ä–æ–ª—å
              <input type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required />
            </label>
            <button type="submit">–í–æ–π—Ç–∏</button>
            <button class="auth__switch" type="button" data-auth-switch="register">
              –ù–µ—Ç –ø—Ä–æ—Ñ–∏–ª—è? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
            </button>
            <p id="loginMessage" class="message"></p>
          </form>

          <form id="registerForm" class="form auth__panel is-hidden" data-auth-view="register">
            <label>
              –ò–º—è
              <input type="text" name="name" placeholder="–ê–Ω–Ω–∞" required />
            </label>
            <label>
              Email
              <input type="email" name="email" placeholder="you@example.com" required />
            </label>
            <label>
              –ü–∞—Ä–æ–ª—å
              <input type="password" name="password" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" required />
            </label>
            <button type="submit">–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</button>
            <button class="auth__switch" type="button" data-auth-switch="login">
              –£–∂–µ –µ—Å—Ç—å –ø—Ä–æ—Ñ–∏–ª—å? –í–æ–π—Ç–∏
            </button>
            <p id="registerMessage" class="message"></p>
          </form>
        </div>
      </section>

      <section id="filtersBar" class="filters-bar">
        <div class="filters-bar__header">
          <div>
            <h2>–§–∏–ª—å—Ç—Ä—ã</h2>
            <p class="filters-bar__subtitle">–ë—ã—Å—Ç—Ä—ã–π –ø–æ–∏—Å–∫ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∫–∞–∫ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–µ.</p>
          </div>
          <button id="resetFilters" class="ghost">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </div>
        <div class="filters-bar__toggle">
          <button class="toggle-button is-active" type="button" data-transaction-type="all">
            –í—Å–µ
          </button>
          <button class="toggle-button" type="button" data-transaction-type="income">
            –î–æ—Ö–æ–¥—ã
          </button>
          <button class="toggle-button" type="button" data-transaction-type="expense">
            –†–∞—Å—Ö–æ–¥—ã
          </button>
          <button class="toggle-button" type="button" data-transaction-type="plan">
            –ü–ª–∞–Ω
          </button>
        </div>
        <form id="filterForm" class="filters-form">
          <label>
            –ö–∞—Ç–µ–≥–æ—Ä–∏—è
            <select name="category" id="filterCategory"></select>
          </label>
          <label>
            –ü–µ—Ä–∏–æ–¥ —Å
            <input type="date" name="startDate" />
          </label>
          <label>
            –ü–µ—Ä–∏–æ–¥ –ø–æ
            <input type="date" name="endDate" />
          </label>
          <label>
            –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
            <input type="text" name="search" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–¥—É–∫—Ç—ã" />
          </label>
        </form>
        <div class="filters-bar__stats">
          <div class="stat">
            <span>–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏</span>
            <strong id="totalCount">0</strong>
          </div>
          <div class="stat">
            <span>–í —Ñ–∏–ª—å—Ç—Ä–µ</span>
            <strong id="filteredCount">0</strong>
          </div>
          <div class="filters-bar__quick">
            <span class="filters-bar__label">–ë—ã—Å—Ç—Ä—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã</span>
            <div class="filters-bar__chips">
              <button class="chip-button" type="button" data-quick-filter="today">–°–µ–≥–æ–¥–Ω—è</button>
              <button class="chip-button" type="button" data-quick-filter="week">7 –¥–Ω–µ–π</button>
              <button class="chip-button" type="button" data-quick-filter="month">–≠—Ç–æ—Ç –º–µ—Å—è—Ü</button>
              <button class="chip-button" type="button" data-quick-filter="big">–ö—Ä—É–ø–Ω—ã–µ —Ç—Ä–∞—Ç—ã</button>
            </div>
          </div>
        </div>
      </section>

      <main id="appContent" class="app__content">

        <section class="card">
          <div class="card__header">
            <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
            <button id="clearAll" class="ghost" data-action="view-all">–í—Å–µ ‚Üí</button>
          </div>
          <div id="emptyState" class="empty">
            <p>–ù–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –ù–∞–∂–º–∏—Ç–µ +, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å.</p>
          </div>
          <ul id="expenseList" class="expense-list"></ul>
        </section>

        <section class="card">
          <div class="card__header">
            <h2>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h2>
            <label class="card__control">
              –ü–µ—Ä–∏–æ–¥
              <select id="summaryPeriod">
                <option value="day">–î–µ–Ω—å</option>
                <option value="week">–ù–µ–¥–µ–ª—è</option>
                <option value="month" selected>–ú–µ—Å—è—Ü</option>
                <option value="quarter">–ö–≤–∞—Ä—Ç–∞–ª</option>
                <option value="half-year">–ü–æ–ª–≥–æ–¥–∞</option>
                <option value="year">–ì–æ–¥</option>
                <option value="all">–í—Å–µ –≤—Ä–µ–º—è</option>
              </select>
            </label>
          </div>
          <canvas id="analyticsChart" height="220"></canvas>
          <div id="categorySummary" class="summary"></div>
        </section>
      </main>
    </div>

    <template id="expenseItemTemplate">
      <li class="expense-item">
        <div class="expense-item__info">
          <h3></h3>
          <p class="expense-item__meta"></p>
        </div>
        <div class="expense-item__amount"></div>
        <button class="expense-item__remove" type="button">–£–¥–∞–ª–∏—Ç—å</button>
      </li>
    </template>

    <div id="profileModal" class="modal">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
          <button class="ghost" type="button" data-close-modal>–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
        <div class="profile-modal">
          <div class="profile-modal__avatar">
            <img id="avatarPreview" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" />
            <label class="avatar-upload">
              –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä
              <input type="file" id="avatarInput" accept="image/*" />
            </label>
          </div>
          <div class="profile-modal__info">
            <p class="profile__name" id="userName">‚Äî</p>
            <p class="profile__email" id="userEmail">‚Äî</p>
            <p class="hint">
              –í—Å–µ —Ä–∞—Å—Ö–æ–¥—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø—Ä–æ—Ñ–∏–ª—è. –î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–∞–∂–º–∏—Ç–µ –Ω–∞
              <strong>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π</strong>
            </p>
            <div class="profile-modal__categories">
              <h3>–ú–æ–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
              <div class="form-toggle">
                <button class="toggle-button is-active" type="button" data-category-type="expense">
                  –†–∞—Å—Ö–æ–¥—ã
                </button>
                <button class="toggle-button" type="button" data-category-type="income">
                  –î–æ—Ö–æ–¥—ã
                </button>
                <button class="toggle-button" type="button" data-category-type="plan">
                  –ü–ª–∞–Ω
                </button>
              </div>
              <form id="categoryForm" class="inline-form">
                <input type="text" name="categoryName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ü–∏—Ç–æ–º—Ü—ã" required />
                <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
              </form>
              <div id="categoryList" class="chip-list"></div>
            </div>
            <div class="profile-modal__actions">
              <button id="shareButton" type="button">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π</button>
              <button id="logoutButton" class="ghost" type="button">–í—ã–π—Ç–∏</button>
            </div>
            <p id="shareMessage" class="message message--success"></p>
          </div>
        </div>
      </div>
    </div>

    <div id="operationModal" class="modal">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é</h2>
          <button class="ghost" type="button" data-close-modal>–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
        <form id="expenseForm" class="form">
          <div class="form-toggle">
            <button class="toggle-button is-active" type="button" data-form-type="expense">
              –†–∞—Å—Ö–æ–¥
            </button>
            <button class="toggle-button" type="button" data-form-type="income">–î–æ—Ö–æ–¥</button>
            <button class="toggle-button" type="button" data-form-type="plan">–ü–ª–∞–Ω</button>
          </div>
          <label>
            –ù–∞–∑–≤–∞–Ω–∏–µ
            <input type="text" name="title" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ—Ñ–µ" required />
          </label>
          <label>
            –ö–∞—Ç–µ–≥–æ—Ä–∏—è
            <div class="field-with-action">
              <select name="category" id="categorySelect" required></select>
              <button id="openCategoryModal" class="ghost" type="button">+ –î–æ–±–∞–≤–∏—Ç—å</button>
            </div>
          </label>
          <label>
            –°—É–º–º–∞ (‚ÇΩ)
            <input type="number" name="amount" min="0.01" step="0.01" placeholder="0.00" required />
          </label>
          <label>
            –î–∞—Ç–∞
            <input type="date" name="date" required />
          </label>
          <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
        </form>
      </div>
    </div>

    <div id="categoryModal" class="modal">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h2>
          <button class="ghost" type="button" data-close-modal>–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
        <form id="categoryModalForm" class="form">
          <label>
            –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            <input type="text" name="categoryName" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ü–∏—Ç–æ–º—Ü—ã" required />
          </label>
          <button type="submit">–î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</button>
        </form>
      </div>
    </div>

    <button id="openOperationModal" class="fab" type="button" aria-label="–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é">
      +
    </button>

    <script src="app.js"></script>
  </body>
</html>
