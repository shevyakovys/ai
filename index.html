<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Expense Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <main class="app">
      <section id="authSection" class="card auth">
        <header>
          <p class="app__eyebrow">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</p>
          <h1 id="authTitle">–í—Ö–æ–¥</h1>
          <p class="app__subtitle">–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å —Ä–∞—Å—Ö–æ–¥–∞–º–∏ –∏ –¥–µ–ª–∏—Ç—å—Å—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π.</p>
        </header>
        <div class="auth__forms">
          <div class="auth__panel" data-auth-view="login">
            <form id="loginForm" class="form">
              <label>
                Email
                <input name="email" type="email" autocomplete="email" required />
              </label>
              <label>
                –ü–∞—Ä–æ–ª—å
                <input name="password" type="password" autocomplete="current-password" required />
              </label>
              <p id="loginMessage" class="message"></p>
              <button type="submit">–í–æ–π—Ç–∏</button>
              <button type="button" class="auth__switch" data-auth-switch="register">
                –ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è
              </button>
            </form>
          </div>
          <div class="auth__panel is-hidden" data-auth-view="register">
            <form id="registerForm" class="form">
              <label>
                –ò–º—è
                <input name="name" type="text" autocomplete="name" required />
              </label>
              <label>
                Email
                <input name="email" type="email" autocomplete="email" required />
              </label>
              <label>
                –ü–∞—Ä–æ–ª—å
                <input name="password" type="password" autocomplete="new-password" required />
              </label>
              <p id="registerMessage" class="message"></p>
              <button type="submit">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
              <button type="button" class="auth__switch" data-auth-switch="login">
                –£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π—Ç–∏
              </button>
            </form>
          </div>
        </div>
      </section>

      <header id="appHeader" class="app-header">
        <div>
          <p class="app__eyebrow">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å</p>
          <h1 class="app__title">–í–∞—à–∏ —Ñ–∏–Ω–∞–Ω—Å—ã</h1>
          <span id="profileShortName" class="sr-only">‚Äî</span>
        </div>
        <div class="app-header__actions">
          <button
            class="icon-button"
            type="button"
            aria-label="–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è"
            data-action-open="notifications"
          >
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 8a6 6 0 0 0-12 0c0 7-3 7-3 7h18s-3 0-3-7" />
              <path d="M13.73 21a2 2 0 0 1-3.46 0" />
            </svg>
          </button>
          <button
            class="icon-button"
            type="button"
            aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
            data-action-open="settings"
          >
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="3" />
              <path
                d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 1 1-4 0v-.09a1.65 1.65 0 0 0-1-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 1 1 0-4h.09a1.65 1.65 0 0 0 1.51-1 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.01a1.65 1.65 0 0 0 1-1.51V3a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51h.01a1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.01a1.65 1.65 0 0 0 1.51 1H21a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"
              />
            </svg>
          </button>
        </div>
      </header>

      <section id="summaryCards" class="balance-card">
        <div class="balance-card__header">
          <div>
            <p class="balance-card__label">–û–±—â–∏–π –±–∞–ª–∞–Ω—Å</p>
            <h2 id="balanceAmount" class="balance-card__amount">0 ‚ÇΩ</h2>
            <span id="totalAmount" class="sr-only">0 ‚ÇΩ</span>
          </div>
          <button
            class="icon-button icon-button--ghost"
            id="toggleBalance"
            type="button"
            aria-label="–°–∫—Ä—ã—Ç—å –±–∞–ª–∞–Ω—Å"
            aria-pressed="false"
          >
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
              <circle cx="12" cy="12" r="3" />
            </svg>
          </button>
        </div>
        <div class="balance-card__stats">
          <div class="balance-stat balance-stat--income">
            <span class="balance-stat__icon">‚Üó</span>
            <div>
              <p>–î–æ—Ö–æ–¥—ã</p>
              <strong id="incomeTotal">0 ‚ÇΩ</strong>
            </div>
          </div>
          <div class="balance-stat balance-stat--expense">
            <span class="balance-stat__icon">‚Üò</span>
            <div>
              <p>–†–∞—Å—Ö–æ–¥—ã</p>
              <strong id="expenseTotal">0 ‚ÇΩ</strong>
            </div>
          </div>
          <div class="balance-stat balance-stat--plan is-hidden">
            <span class="balance-stat__icon">‚óé</span>
            <div>
              <p>–ü–ª–∞–Ω—ã</p>
              <strong id="planTotal">0 ‚ÇΩ</strong>
            </div>
          </div>
        </div>
      </section>

      <section id="quickActions" class="action-section">
        <div class="action-grid">
          <button class="action-button action-button--income" type="button" data-action-type="income">
            <span class="action-button__icon">‚Üó</span>
            –î–æ—Ö–æ–¥
          </button>
          <button
            class="action-button action-button--expense"
            type="button"
            data-action-type="expense"
          >
            <span class="action-button__icon">‚Üò</span>
            –†–∞—Å—Ö–æ–¥
          </button>
          <button
            class="action-button action-button--transfer"
            type="button"
            data-action-type="transfer"
          >
            <span class="action-button__icon">‚áÑ</span>
            –ü–µ—Ä–µ–≤–æ–¥
          </button>
          <button class="action-button action-button--goal" type="button" data-action-type="goal">
            <span class="action-button__icon">‚óé</span>
            –¶–µ–ª—å
          </button>
        </div>
      </section>

      <section id="appContent" class="transaction-section">
        <div class="section-header">
          <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
          <button id="recentAll" class="link-button" type="button" data-action-open="filters">
            –í—Å–µ
            <span aria-hidden="true">‚Ä∫</span>
          </button>
        </div>
        <div id="emptyState" class="empty">–ù–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è.</div>
        <ul id="expenseList" class="transaction-list"></ul>
      </section>

      <section class="analytics-section">
        <form id="expenseForm" class="form form--card">
          <div class="form__header">
            <h3>–ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è</h3>
            <div class="form-toggle">
              <button class="toggle-button is-active" type="button" data-form-type="expense">
                –†–∞—Å—Ö–æ–¥
              </button>
              <button class="toggle-button" type="button" data-form-type="income">–î–æ—Ö–æ–¥</button>
              <button class="toggle-button" type="button" data-form-type="plan">–ü–ª–∞–Ω</button>
            </div>
          </div>
          <label>
            –ù–∞–∑–≤–∞–Ω–∏–µ
            <input name="title" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä, –ö–æ—Ñ–µ" required />
          </label>
          <label>
            –ö–∞—Ç–µ–≥–æ—Ä–∏—è
            <select id="categorySelect" name="category" required></select>
          </label>
          <label>
            –°—É–º–º–∞
            <input name="amount" type="number" min="1" step="0.01" required />
          </label>
          <label>
            –î–∞—Ç–∞
            <input name="date" type="date" required />
          </label>
          <button type="submit">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </form>

        <div class="card card--compact">
          <div class="card__header">
            <h3>–°–≤–æ–¥–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</h3>
            <select id="summaryPeriod" class="select-inline">
              <option value="all">–ó–∞ –≤—Å—ë –≤—Ä–µ–º—è</option>
              <option value="day">–î–µ–Ω—å</option>
              <option value="week">–ù–µ–¥–µ–ª—è</option>
              <option value="month">–ú–µ—Å—è—Ü</option>
              <option value="quarter">–ö–≤–∞—Ä—Ç–∞–ª</option>
              <option value="half-year">–ü–æ–ª—É–≥–æ–¥–∏–µ</option>
              <option value="year">–ì–æ–¥</option>
            </select>
          </div>
          <div class="summary" id="categorySummary"></div>
          <canvas id="analyticsChart" width="360" height="180"></canvas>
        </div>

        <div class="card card--compact">
          <div class="card__header">
            <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
            <button id="openCategoryModal" type="button" class="ghost">–£–ø—Ä–∞–≤–ª—è—Ç—å</button>
          </div>
          <form id="categoryForm" class="inline-form">
            <input name="categoryName" type="text" placeholder="–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è" required />
            <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
          </form>
          <div id="categoryList" class="chip-list"></div>
        </div>

        <div class="card card--compact">
          <div class="card__header">
            <h3>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <button id="clearAll" type="button" class="ghost">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å—ë</button>
          </div>
          <div class="stats-grid">
            <div class="stat">
              <span>–í—Å–µ–≥–æ</span>
              <strong id="totalCount">0</strong>
            </div>
            <div class="stat">
              <span>–û—Ç–æ–±—Ä–∞–Ω–æ</span>
              <strong id="filteredCount">0</strong>
            </div>
          </div>
        </div>
      </section>

      <nav id="bottomNav" class="bottom-nav" aria-label="–û—Å–Ω–æ–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è">
        <button class="bottom-nav__item is-active" type="button" data-nav="home">
          <span class="bottom-nav__icon">‚åÇ</span>
          –ì–ª–∞–≤–Ω–∞—è
        </button>
        <button class="bottom-nav__item" type="button" data-nav="transactions">
          <span class="bottom-nav__icon">‚â°</span>
          –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
        </button>
        <button
          class="bottom-nav__fab"
          id="openOperationModal"
          type="button"
          aria-label="–î–æ–±–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é"
        >
          +
        </button>
        <button class="bottom-nav__item" type="button" data-nav="budget">
          <span class="bottom-nav__icon">‚ñ§</span>
          –ë—é–¥–∂–µ—Ç
        </button>
        <button class="bottom-nav__item" type="button" data-nav="profile" id="profileButton">
          <span class="bottom-nav__icon">‚ò∫</span>
          –ü—Ä–æ—Ñ–∏–ª—å
        </button>
      </nav>
      <img id="profileAvatar" class="sr-only" alt="" />
    </main>

    <template id="expenseItemTemplate">
      <li class="transaction-item">
        <div class="transaction-item__icon">üöó</div>
        <div>
          <h3>–ù–∞–∑–≤–∞–Ω–∏–µ</h3>
          <p class="expense-item__meta">–ö–∞—Ç–µ–≥–æ—Ä–∏—è ¬∑ –î–∞—Ç–∞</p>
        </div>
        <strong class="transaction-item__amount">0 ‚ÇΩ</strong>
        <button class="expense-item__remove" type="button">–£–¥–∞–ª–∏—Ç—å</button>
      </li>
    </template>

    <div id="profileModal" class="modal" role="dialog" aria-modal="true">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
          <button class="icon-button" type="button" data-close-modal aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            ‚úï
          </button>
        </div>
        <div class="profile-modal">
          <div class="profile-modal__avatar">
            <img id="avatarPreview" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" />
            <label class="avatar-upload">
              –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ
              <input id="avatarInput" type="file" accept="image/*" />
            </label>
          </div>
          <div class="profile-modal__info">
            <div>
              <p class="profile__name" id="userName">‚Äî</p>
              <p class="profile__email" id="userEmail">‚Äî</p>
            </div>
            <div class="profile-modal__actions">
              <button type="button" class="ghost" id="shareButton">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
              <span id="shareMessage" class="hint"></span>
              <button type="button" class="ghost" id="logoutButton">–í—ã–π—Ç–∏</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="categoryModal" class="modal" role="dialog" aria-modal="true">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h2>
          <button class="icon-button" type="button" data-close-modal aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            ‚úï
          </button>
        </div>
        <form id="categoryModalForm" class="form">
          <label>
            –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
            <input name="categoryName" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" required />
          </label>
          <button type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
        </form>
      </div>
    </div>

    <div id="operationModal" class="modal" role="dialog" aria-modal="true">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–ù–æ–≤–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è</h2>
          <button class="icon-button" type="button" data-close-modal aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            ‚úï
          </button>
        </div>
        <div class="modal__body">
          <p class="hint">
            –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é —Ñ–æ—Ä–º—É –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏–ª–∏ –±—ã—Å—Ç—Ä—ã–µ –∫–Ω–æ–ø–∫–∏, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å.
          </p>
        </div>
      </div>
    </div>

    <div id="filtersBar" class="modal" role="dialog" aria-modal="true">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–§–∏–ª—å—Ç—Ä—ã</h2>
          <button class="icon-button" type="button" data-close-modal aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            ‚úï
          </button>
        </div>
        <form id="filterForm" class="form">
          <label>
            –ö–∞—Ç–µ–≥–æ—Ä–∏—è
            <select id="filterCategory" name="category"></select>
          </label>
          <label>
            –ü–æ–∏—Å–∫
            <input name="search" type="text" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" />
          </label>
          <label>
            –î–∞—Ç–∞ —Å
            <input name="startDate" type="date" />
          </label>
          <label>
            –î–∞—Ç–∞ –ø–æ
            <input name="endDate" type="date" />
          </label>
          <button id="resetFilters" type="button" class="ghost">–°–±—Ä–æ—Å–∏—Ç—å</button>
        </form>
      </div>
    </div>

    <div id="notificationsModal" class="modal" role="dialog" aria-modal="true">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h2>
          <button class="icon-button" type="button" data-close-modal aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            ‚úï
          </button>
        </div>
        <div class="modal__body">
          <p class="hint">–ù–µ—Ç –Ω–æ–≤—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.</p>
        </div>
      </div>
    </div>

    <div id="settingsModal" class="modal" role="dialog" aria-modal="true">
      <div class="modal__backdrop" data-close-modal></div>
      <div class="modal__content">
        <div class="modal__header">
          <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
          <button class="icon-button" type="button" data-close-modal aria-label="–ó–∞–∫—Ä—ã—Ç—å">
            ‚úï
          </button>
        </div>
        <div class="modal__body">
          <p class="hint">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏.</p>
        </div>
      </div>
    </div>

    <script src="./app.js"></script>
  </body>
</html>
